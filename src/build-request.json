{
  "kind": "build_request",
  "title": "Update APK download link generator defaults for current release",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-60",
      "text": "Update the /apk-download page so that when no ?filename=... query parameter is provided, it defaults to a Version 20 APK filename (use a versioned default like strager-marketplace-v20.apk) instead of the current default strager-marketplace-v1.apk.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "User: Generate apk link"
        ]
      },
      "acceptanceCriteria": [
        "Navigating to /apk-download with no query parameters shows the default filename as strager-marketplace-v20.apk.",
        "The generated direct download URL uses /downloads/strager-marketplace-v20.apk by default.",
        "The generated shareable page link uses /apk-download?filename=strager-marketplace-v20.apk by default."
      ]
    },
    {
      "id": "REQ-61",
      "text": "Update developer-facing documentation in frontend/public/downloads/README.txt to reflect the current default APK filename used by /apk-download (Version 20), and ensure all example APK links and filenames align with that default.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "User: Generate apk link"
        ]
      },
      "acceptanceCriteria": [
        "frontend/public/downloads/README.txt includes Version 20 as the current default APK example (e.g., strager-marketplace-v20.apk).",
        "Any README examples for /apk-download and direct /downloads/ links use strager-marketplace-v20.apk (unless explicitly describing historical examples)."
      ]
    }
  ],
  "constraints": [
    "Frontend immutable paths must not be edited: frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useInternetIdentity.tsx, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, frontend/src/components/ui.",
    "All user-facing text introduced/modified by this change must be in English."
  ],
  "nonGoals": [
    "Do not implement Android build tooling or generate an actual APK file in this change.",
    "Do not change backend canister APIs or data models.",
    "Do not add new routes; use the existing /apk-download flow."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}